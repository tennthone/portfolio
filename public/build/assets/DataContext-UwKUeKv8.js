import{r as i,j as e,q as C,W as $,y as N}from"./app-23ub5eJS.js";import{_ as U}from"./index-jaRZ51m-.js";import{M as n,A as q,a as F,L as t,F as y,R as d,i as b}from"./ToggleSwitch-hiw5gWev.js";import{G as p,c as W}from"./index.esm-TZV9-EhP.js";import{a as Y}from"./index.esm-M7LIxSbU.js";import{b as J}from"./index.esm-XhPXcxiA.js";import{a as K}from"./index.esm-YqMvDv0i.js";import{G as Q}from"./index.esm-rO6bcIOC.js";import X from"./Validation-soZEcsUP.js";function ee(l){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Text"},child:[{tag:"path",attr:{d:"M18.44,2.06H5.56a1.5,1.5,0,0,0-1.5,1.5v4.5a.5.5,0,0,0,1,0v-1H10V20.94H8a.5.5,0,0,0,0,1h8a.5.5,0,0,0,0-1H14V7.06h4.94v1a.5.5,0,0,0,1,0V3.56A1.5,1.5,0,0,0,18.44,2.06Zm.5,4H14a1,1,0,0,0-1,1V20.94H11V7.06a1,1,0,0,0-1-1H5.06V3.56a.5.5,0,0,1,.5-.5H18.44a.5.5,0,0,1,.5.5Z"}}]}]})(l)}function se(l){return p({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M13.003 7.754a.75.75 0 0 1 .75-.75h5.232a.75.75 0 0 1 .53 1.28l-2.776 2.777c.55.097 1.057.253 1.492.483.905.477 1.504 1.284 1.504 2.418 0 .966-.471 1.75-1.172 2.27-.687.511-1.587.77-2.521.77-1.367 0-2.274-.528-2.667-.756a.75.75 0 0 1 .755-1.297c.331.193.953.553 1.912.553.673 0 1.243-.188 1.627-.473.37-.275.566-.635.566-1.067 0-.5-.219-.836-.703-1.091-.538-.284-1.375-.443-2.471-.443a.75.75 0 0 1-.53-1.28l2.643-2.644h-3.421a.75.75 0 0 1-.75-.75ZM7.88 15.215a1.4 1.4 0 0 0-1.446.83.75.75 0 0 1-1.37-.61 2.899 2.899 0 0 1 2.986-1.71c.589.06 1.139.323 1.557.743.434.446.685 1.058.685 1.778 0 1.641-1.254 2.437-2.12 2.986-.538.341-1.18.694-1.495 1.273H9.75a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75c0-1.799 1.337-2.63 2.243-3.21 1.032-.659 1.55-1.031 1.55-1.8 0-.355-.116-.584-.26-.732a1.071 1.071 0 0 0-.652-.298Zm.234-13.121a.75.75 0 0 1 .386.656V9h1.252a.75.75 0 0 1 0 1.5H5.75a.75.75 0 0 1 0-1.5H7V4.103l-.853.533a.749.749 0 1 1-.795-1.272l2-1.25a.749.749 0 0 1 .762-.02Z"}}]})(l)}function le(l){return p({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M1 3.5l.5-.5h13l.5.5v9l-.5.5h-13l-.5-.5v-9zM14 4H8v3.493h-.5l-3.574-.005 2.09-2.09-.707-.707-2.955 2.955v.708l2.955 2.955.707-.707-2.114-2.114 3.996.005H8v-.986l3.907.005-2.114-2.114.707-.707 2.956 2.955v.708L10.5 11.309l-.707-.707 2.09-2.09L8 8.507V12h6V4z"}}]})(l)}function M(l){return p({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14.45 4.5l-5-2.5h-.9l-7 3.5-.55.89v4.5l.55.9 5 2.5h.9l7-3.5.55-.9v-4.5l-.55-.89zm-8 8.64l-4.5-2.25V7.17l4.5 2v3.97zm.5-4.8L2.29 6.23l6.66-3.34 4.67 2.34-6.67 3.11zm7 1.55l-6.5 3.25V9.21l6.5-3v3.68z"}}]})(l)}const w=()=>{const{openFieldModal:l,setOpenFieldModal:a,handleFieldSelect:s}=i.useContext(m),c=[{id:1,name:"Text",type:"text",helper_text:"Titles, names and paragraph",icon:e.jsx(Y,{size:20})},{id:2,name:"Rich Text",type:"textarea",helper_text:"Text formating with references and media",icon:e.jsx(ee,{size:20})},{id:3,name:"Number",type:"number",helper_text:"ID, order number, rating, quantity",icon:e.jsx(se,{size:20})},{id:4,name:"Date Time",type:"datetime",helper_text:"Event dates",icon:e.jsx(W,{size:20})},{id:5,name:"Media",type:"file",helper_text:"Images, videos, PDFs and other files",icon:e.jsx(J,{size:20})},{id:6,name:"Boolean",type:"boolean",helper_text:"Yes or No, 1 or 0, true or false",icon:e.jsx(le,{size:20})},{id:7,name:"Color",type:"color",helper_text:"Background color, color and pallet color",icon:e.jsx(K,{size:20})}];return e.jsx("div",{children:e.jsxs(n,{size:"4xl",show:l,onClose:()=>a(!1),children:[e.jsx(n.Header,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{size:30,className:"me-3"}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-lg font-bold",children:"Choose a field"}),e.jsx("p",{className:"text-sm",children:" Supporting text "})]})]})}),e.jsx(n.Body,{children:e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex justify-between flex-wrap",children:c.map(o=>e.jsx(_,{handleFieldSelect:s,item:o},o.id))})})})]})})},_=({item:l,handleFieldSelect:a})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"w-1/3",children:e.jsx("div",{className:"p-3 border-2 border-slate-150 text-slate-700 rounded-md my-3 mx-2 cursor-pointer hover:border-indigo-700",onClick:()=>a(l),children:e.jsxs("div",{className:"flex flex-col items-start justify-between",children:[e.jsx("div",{className:"p-1 border-0 rounded-md bg-slate-100 border-slate-50 text-indigo-600",children:l.icon}),e.jsxs("div",{className:"my-2",children:[e.jsxs("p",{className:"font-bold text-base",children:[" ",l.name," "]}),e.jsxs("p",{className:"text-xs",children:[" ",l.helper_text," "]})]})]})})})}),he=Object.freeze(Object.defineProperty({__proto__:null,FieldData:_,default:w},Symbol.toStringTag,{value:"Module"})),S=({openModal:l,setOpenModal:a,children:s,heading:c})=>{const{showAlert:o,submit:u,loading:h,changeFieldType:j,data:x}=i.useContext(m);return e.jsx(e.Fragment,{children:e.jsx(n,{show:l,size:"4xl",onClose:()=>a(!1),children:e.jsxs("form",{onSubmit:u,children:[e.jsx(n.Header,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(Q,{size:30,className:"me-3 "}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-bold",children:[" ",c," "]}),e.jsxs("p",{className:"text-sm",children:[" ",x.type," "]})]})]})}),e.jsxs(n.Body,{children:[e.jsx("div",{className:"space-y-6 p-6",children:e.jsx("div",{className:"space-y-6",children:s})}),o&&e.jsxs(q,{color:"indigo",onDismiss:()=>setShowAlert(!1),children:[e.jsx("span",{className:"font-medium",children:"Info alert!"})," These settings can't be changed later"]})]}),e.jsx(n.Footer,{children:e.jsxs("div",{className:"flex justify-between w-full",children:[e.jsx(F,{type:"button",color:"gray",className:"me-3 w-1/2",onClick:()=>j(),children:"Back to Fields"}),e.jsx(F,{type:"submit",color:"purple",isProcessing:h,processingLabel:"Saving",className:"w-1/2",children:"Save"})]})})]})})})},pe=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"})),T=()=>{const{openCreateFieldModal:l,setOpenCreateFieldModal:a,data:s,setData:c}=i.useContext(m);return e.jsx("div",{children:e.jsx(S,{children:e.jsx(z,{data:s,setData:c}),openModal:l,setOpenModal:a,heading:"Add A Field"})})},z=({data:l,setData:a})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:"mx-2",children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(t,{htmlFor:"name",value:"Name"})}),e.jsx(y,{variant:"outlined",label:"name",value:l.name,onChange:s=>a("name",s.target.value),helperText:"This is hit text to help user"})]})}),e.jsx("div",{className:"w-1/2",children:e.jsxs("div",{className:"mx-2",children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(t,{htmlFor:"variable",value:"Variable Name"})}),e.jsx(y,{variant:"outlined",label:"variable",value:l.value,onChange:s=>a("value",s.target.value),helperText:"This is hit text to help user"})]})})]}),l.type=="file"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-1/2 flex items-start gap-2 me-3",children:[e.jsx(d,{id:"options",name:"options",value:"one",defaultChecked:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:" One File "}),e.jsx("small",{children:"For example, a single photo or one PDF file"})]})]}),e.jsxs("div",{className:"w-1/2 flex items-start gap-2",children:[e.jsx(d,{id:"options",name:"options",value:"many",defaultvalue:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:" Many File"}),e.jsxs("small",{children:[" ","For example, several photos, PDF files, etc."," "]})]})]})]})}),l.type=="number"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-1/2 flex items-start gap-2 me-3",children:[e.jsx(d,{id:"options",name:"options",value:"integer",defaultChecked:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:" Integer "}),e.jsx("small",{children:" 1,2,3,5,8, 13, .... "})]})]}),e.jsxs("div",{className:"w-1/2 flex items-start gap-2",children:[e.jsx(d,{id:"options",name:"options",value:"decimal",defaultvalue:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:" Decimal "}),e.jsx("small",{children:" 3.1415265398 "})]})]})]})}),l.type=="text"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-1/2 flex items-start gap-2 me-3",children:[e.jsx(d,{id:"options",name:"options",value:"integer",defaultChecked:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:"Short text, eact search"}),e.jsx("small",{children:"256 characters max.Use this for titles, names, tags, URLs, e-mail addresses"})]})]}),e.jsxs("div",{className:"w-1/2 flex items-start gap-2",children:[e.jsx(d,{id:"options",name:"options",value:"decimal",defaultvalue:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:" Long Text "}),e.jsx("small",{children:"50k characters max.Use this for descriptions, text paragraphs, articles"})]})]})]})}),l.type=="datetime"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"w-1/3 flex items-start gap-2 me-3",children:[e.jsx(d,{id:"options",name:"options",value:"datetime",defaultChecked:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:" Datetime "}),e.jsx("small",{children:" 12/04/2023 12:00 PM "})]})]}),e.jsxs("div",{className:"w-1/3 flex items-start gap-2",children:[e.jsx(d,{id:"options",name:"options",value:"date",defaultvalue:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:" Date "}),e.jsx("small",{children:" 12/04/2023"})]})]}),e.jsxs("div",{className:"w-1/3 flex items-start gap-2",children:[e.jsx(d,{id:"options",name:"options",value:"decimal",defaultvalue:!0,onChange:s=>a("option",s.target.value)}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx(t,{htmlFor:"options",children:" Time "}),e.jsx("small",{children:" 12:00 PM"})]})]})]})})]}),ue=Object.freeze(Object.defineProperty({__proto__:null,BodyContent:z,default:T},Symbol.toStringTag,{value:"Module"})),O=()=>{const{openEditFieldModal:l,setOpenEditFieldModal:a}=i.useContext(m),{field:s}=C().props;return e.jsxs(n,{size:"5xl",show:l,onClose:()=>a(!1),children:[e.jsx(n.Header,{children:e.jsxs("div",{className:"flex",children:[e.jsx(M,{size:30,className:"me-3"}),e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-lg font-bold",children:s.name}),e.jsxs("p",{className:"text-sm",children:[" ",s.type," "]})]})]})}),e.jsxs(n.Body,{children:[e.jsxs("div",{className:"my-3",children:[e.jsx(t,{children:" Enter Name "}),e.jsx(b,{placeholder:"Name",helperText:"This is a hint text",className:"my-3",value:s==null?void 0:s.name})]}),e.jsxs("div",{className:"my-3",children:[e.jsx(t,{children:" Enter Variable Name "}),e.jsx(b,{placeholder:"Variable Name",helperText:"This is a hint text",className:"my-3",value:s==null?void 0:s.value,readOnly:!0})]}),e.jsx(X,{field:s})]}),e.jsx(n.Footer,{})]})},je=Object.freeze(Object.defineProperty({__proto__:null,default:O},Symbol.toStringTag,{value:"Module"})),m=i.createContext(null),ve=({children:l})=>{const[a,s]=i.useState(!1),[c,o]=i.useState(!1),[u,h]=i.useState(!1),[j,x]=i.useState(!1),[V,E]=i.useState(!1),{template:H}=C().props,{data:g,setData:v,reset:P,transform:ae}=$({name:"",value:"",type:"",option:"",data_type:"",model_name:"",model_id:""});function B(r){r.preventDefault(),x(!0),N.post(route("admin.data.store"),g,{onSuccess:()=>{x(!1),o(!1),U.success("Field created successfully"),P()},onError:f=>{x(!1),E(f)}})}const[k,A]=i.useState(!0),L=()=>{o(!1),s(!0),A(!0)},I=(r,f,Z)=>{v({data_type:r,model_name:f,model_id:Z}),s(!0)},D=r=>{v("type",r.type),s(!1),o(!0)},R=r=>{N.get(route("admin.template.page",{template_id:H.id,field_id:r}),{},{onSuccess:()=>{h(!0)},onError:()=>{}})},G=r=>{R(r)};return e.jsxs(m.Provider,{value:{openFieldModal:a,setOpenFieldModal:s,openCreateFieldModal:c,setOpenCreateFieldModal:o,openEditFieldModal:u,setOpenEditFieldModal:h,handleFieldSelect:D,handleAddField:I,changeFieldType:L,handleEditField:G,submit:B,setData:v,loading:j,showAlert:k,data:g,errors:V},children:[l,e.jsx(w,{}),e.jsx(T,{}),e.jsx(O,{})]})};export{T as C,ve as D,je as E,w as F,m as a,he as b,pe as c,ue as d};
