import{q as v,r as m,W as y,j as e,y as g}from"./app-tjH46_Jn.js";import{M as a,L as d,F as x,a as u}from"./ToggleSwitch-7jU1DJ8Z.js";import{I as N,_ as C}from"./index-pUkcD3kD.js";import"./index.esm-lSDKJxr1.js";const k=({openCreateModal:p,setOpenCreateModal:i})=>{const{repos:h}=v().props,[f,l]=m.useState(!1),[s,n]=m.useState(null),{data:r,setData:c,reset:j}=y({name:"",description:""});function b(t){if(t.preventDefault(),h.filter(o=>o.name==r.name).length>0)return n({info:"Repository name already exists"}),!1;l(!0),g.post(route("admin.gitrepo.store"),r,{onSuccess:()=>{l(!1),i(!1),C.success("Repo created successfully"),j()},onError:o=>{n(o)}})}return e.jsxs("div",{children:[e.jsx(a,{show:p,size:"2xl",onClose:()=>i(!1),children:e.jsxs("form",{action:"",onSubmit:b,children:[e.jsx(a.Header,{children:e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Create Repository"})}),e.jsx(a.Body,{children:e.jsxs("div",{className:"space-y-6",children:[s&&s.info&&e.jsx("div",{className:"my-3 text-red-700 font-bold text-sm",children:s.info}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(d,{htmlFor:"email",value:"Repository Name"})}),e.jsx(x,{label:"Enter GitHub Repository Name",helperText:"GitHub Url တွင် အသုံးပြုမည့်အမည်။​ https://reponame.git",variant:"outlined",value:r.name,onChange:t=>c("name",t.target.value)}),s&&s.name&&e.jsx("div",{className:"my-3 text-red-700 font-bold text-sm",children:s.name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(d,{htmlFor:"email",value:"Description"})}),e.jsx(x,{variant:"outlined",label:"Description ထည့်မည် ",helperText:"Remote Url သည် မည့်သည့်အတွက် ဖြစ်ကြောင်း ဖော်ပြချက်",value:r.description,onChange:t=>c("description",t.target.value)})]})]})}),e.jsx(a.Footer,{children:e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx(u,{type:"button",size:"sm",onClick:()=>i(!1),color:"gray",className:"w-1/2 me-3",children:"Cancel"}),e.jsx(u,{className:"w-1/2",type:"submit",color:"purple",isProcessing:f,processingLabel:"Creating",children:"Create"})]})})]})}),e.jsx(N,{position:"top-right"})]})};export{k as default};
