import{q as R,r as l,W as C,j as e,y as u}from"./app-sxArz8Mg.js";import{M as r,L as p,F as h,a as f}from"./ToggleSwitch-D3GZhnQj.js";import{I as F,_ as w}from"./index-3u23AOxV.js";import"./index.esm-beSryXP7.js";const D=({openCreateModal:j,setOpenCreateModal:o})=>{const{repos:g}=R().props,[n,c]=l.useState(!1),[v,m]=l.useState(""),[s,d]=l.useState(null),{data:t,setData:x,reset:y}=C({name:"",description:""});function b(){m("Generating Files. Please Wait!"),u.post(route("admin.gitrepo.commit"),{repoName:t.name},{onSuccess:()=>{c(!1),o(!1),w.success("Repo created successfully"),y()},onError:()=>{}})}function N(a){if(a.preventDefault(),g.filter(i=>i.name==t.name).length>0)return d({info:"Repository name already exists"}),!1;c(!0),m("Creating repository. Please Wait!"),u.post(route("admin.gitrepo.store"),t,{onSuccess:()=>{b()},onError:i=>{d(i)}})}return e.jsxs("div",{children:[e.jsx(r,{show:j,size:"2xl",onClose:()=>o(!1),children:e.jsxs("form",{action:"",onSubmit:N,children:[e.jsx(r.Header,{children:e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:"Create Repository"})}),e.jsx(r.Body,{children:e.jsxs("div",{className:"space-y-6",children:[s&&s.info&&e.jsx("div",{className:"my-3 text-red-700 font-bold text-sm",children:s.info}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(p,{htmlFor:"email",value:"Repository Name"})}),e.jsx(h,{label:"Enter GitHub Repository Name",helperText:"GitHub Url တွင် အသုံးပြုမည့်အမည်။​ https://reponame.git",variant:"outlined",value:t.name,onChange:a=>x("name",a.target.value)}),s&&s.name&&e.jsx("div",{className:"my-3 text-red-700 font-bold text-sm",children:s.name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(p,{htmlFor:"email",value:"Description"})}),e.jsx(h,{variant:"outlined",label:"Description ထည့်မည် ",helperText:"Remote Url သည် မည့်သည့်အတွက် ဖြစ်ကြောင်း ဖော်ပြချက်",value:t.description,onChange:a=>x("description",a.target.value)})]})]})}),e.jsx(r.Footer,{children:e.jsxs("div",{className:"w-full flex justify-between",children:[e.jsx(f,{type:"button",size:"sm",onClick:()=>o(!1),color:"gray",className:"w-1/2 me-3",children:"Cancel"}),e.jsx(f,{className:"w-1/2",type:"submit",color:"purple",isProcessing:n,children:n?v:"Create"})]})})]})}),e.jsx(F,{position:"top-right"})]})};export{D as default};
