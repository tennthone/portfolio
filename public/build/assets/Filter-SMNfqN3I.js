import{r as l,q as R,j as e,R as F,y as f}from"./app-pVd2MQ2a.js";import{c as C,a as o,e as z}from"./ToggleSwitch-mcKuWbcW.js";import{C as L}from"./index.esm-7OBLCcJa.js";import M from"./AdvancedFilter-FZuGkztY.js";import{M as O}from"./index.esm-BYOauOW8.js";import{A as T}from"./AdminContext-XPUPs-Ky.js";import"./index.esm-1KvQqiY9.js";import"./MyModal-CXPpkDHd.js";import"./index-CcLU-bGk.js";import"./FrontendLayout-5eZi8OKX.js";import"./index.esm-g1PIFD2o.js";import"./index.esm-QLC9g9Cy.js";import"./index.esm-PLsVaipD.js";import"./index.esm-Ftz7Dz2S.js";import"./CustomFileInput-zXHrhRrT.js";const Z=()=>{const[r,i]=l.useState(""),{admins:d}=R().props,[s,n]=l.useState(!1),[a,m]=l.useState(!1),[x,S]=l.useState(!1),j={name:"",email:"",role:"",status:"",createdAt:{startDate:"",endDate:"",startYear:"",endYear:"",startMonth:"",endMonth:""},advancedSearch:!0},[v,h]=l.useState(j),y=t=>{t.preventDefault(),g({search:r})},N=t=>{i(t.target.value),n(!1)},A=()=>{f.get(route("admin.admin-management"))},b=t=>{t.preventDefault(),g(v)},w=t=>{const p=t.target.id,u=t.target.value;h(c=>({...c,[p]:u}))},k=t=>{const p=t.target.id,u=t.target.value;h(c=>({...c,createdAt:{...c.createdAt,[p]:u}}))};function g(t){f.post(route("admin.admin-management"),t,{onSuccess:()=>{n(!0),m(!1)},preserveState:!0})}const D=()=>{h(j)};return e.jsxs(F.Fragment,{children:[s&&e.jsx("div",{className:"my-4",children:e.jsxs("p",{children:["Total ",d.length," results is found for `",r,"`"]})}),e.jsxs("div",{className:"relative",children:[e.jsx("form",{onSubmit:y,children:e.jsxs("div",{className:"flex justify-between my-3 items-center",children:[e.jsx("div",{className:"w-1/12",children:e.jsx(C,{content:"Advanced Filter",children:e.jsx(o,{type:"button",size:"sm",color:"purple",onClick:()=>m(!a),children:e.jsx(L,{size:23})})})}),e.jsx("div",{className:"w-1/12",children:e.jsx(C,{content:"Show Colums",children:e.jsx(o,{type:"button",size:"sm",color:"purple",onClick:()=>S(!x),children:e.jsx(O,{size:23})})})}),e.jsx("div",{className:"w-8/12",children:e.jsx(z,{placeholder:"Search For Admins",type:"search",className:"me-2",value:r,onChange:t=>N(t)})}),e.jsx("div",{className:"w-1/12",children:e.jsx(o,{color:"gray",className:"me-2",onClick:()=>A(),children:"Cancel"})}),e.jsx("div",{className:"w-1/12",children:e.jsx(o,{type:"submit",color:"purple",children:"Search"})})]})}),a&&e.jsx(M,{setOpenAdvancedFilter:m,handleAdvancedFilter:b,handleFilterChange:w,handleClearFilter:D,handleDateFilterChange:k,advancedFilter:v}),x&&e.jsx(E,{})]})]})},E=()=>{const{colHeaders:r,setcolHeaders:i}=l.useContext(T),d=s=>{r.filter(n=>n.selected==!0).length,i(n=>n.map(a=>a.id===s?{...a,selected:!a.selected}:a))};return e.jsx(F.Fragment,{children:e.jsx("div",{className:"absolute top-12 left-6 w-1/5 bg-slate-200 z-50 rounded-sm",children:e.jsx("div",{className:"py-2",children:e.jsx("ul",{children:r.map(s=>e.jsx("li",{className:`py-2 px-1 m-2 
                            ${s.selected?"bg-indigo-600 text-slate-100":"bg-slate-200 text-slate-900"} 
                            rounded-md cursor-pointer`,onClick:()=>d(s.id),children:s.name},s.id))})})})})};export{Z as default};
