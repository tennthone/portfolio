import{q as v,r as c,W as y,j as e,y as g}from"./app-0o_LAF03.js";import{M as o,L as m,T as x,B as b}from"./ToggleSwitch-WE5S0I2r.js";import{I as N,_ as E}from"./index-j0TmCDst.js";import"./index.esm-8DuQsO7k.js";const k=({openCreateModal:p,setOpenCreateModal:i})=>{const{repos:u}=v().props,[h,n]=c.useState(!1),[s,l]=c.useState(null),{data:r,setData:d,reset:f}=y({name:"",description:""});function j(t){if(t.preventDefault(),u.filter(a=>a.name==r.name).length>0)return l({info:"Repository name already exists"}),!1;n(!0),g.post(route("admin.gitrepo.store"),r,{onSuccess:()=>{n(!1),i(!1),E.success("Repo created successfully"),f()},onError:a=>{l(a)}})}return e.jsxs("div",{children:[e.jsxs(o,{show:p,size:"md",onClose:()=>i(!1),popup:!0,children:[e.jsx(o.Header,{}),e.jsx(o.Body,{children:e.jsx("form",{action:"",onSubmit:j,children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-xl font-medium text-gray-900 dark:text-white",children:" Create Repository "}),s&&s.info&&e.jsx("div",{className:"my-3 text-red-700 font-bold text-sm",children:s.info}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(m,{htmlFor:"email",value:"Repository Name"})}),e.jsx(x,{id:"name",placeholder:"Enter Repository Name",value:r.name,onChange:t=>d("name",t.target.value)}),s&&s.name&&e.jsx("div",{className:"my-3 text-red-700 font-bold text-sm",children:s.name})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mb-2 block",children:e.jsx(m,{htmlFor:"email",value:"Description"})}),e.jsx(x,{id:"description",placeholder:"Enter Description",value:r.description,onChange:t=>d("description",t.target.value)})]}),e.jsx("div",{className:"w-full",children:e.jsxs(b,{type:"submit",children:[" ",h?"Saving":"Save"," "]})})]})})})]}),e.jsx(N,{position:"top-right"})]})};export{k as default};
