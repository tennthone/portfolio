import{r as s,q as O,j as b,y as F}from"./app-sxArz8Mg.js";import{_ as h}from"./index-3u23AOxV.js";const k=s.createContext(null),T=({children:m})=>{const{base_path:l}=O().props,[S,c]=s.useState({}),[x,i]=s.useState({}),[u,d]=s.useState({}),[f,p]=s.useState({}),[g,E]=s.useState(!1),[v,R]=s.useState(""),[y,D]=s.useState(""),[P,j]=s.useState(""),C=(e,t)=>{F.post(route(t),{base_path:l},{onSuccess:()=>{h.success(e+"created successfully")},onError:n=>{console.log(n)}})},I=(e,t,n)=>{const o=l+"/"+e;R(o),j(n),D(t),E(!0)},a=(e,t,n)=>{t!==e&&F.post(route(n),{path:l+"/"+e,destination:l+"/"+t},{onSuccess:()=>{h.success("Rename successfully")},onError:o=>{console.log(o)}}),i({}),c({}),p(o=>({...o,[e]:!1})),d(o=>({...o,[e]:!1}))},L=e=>{c(t=>({...t,[e]:e})),d(t=>({...t,[e]:!0}))},M=e=>{i(t=>({...t,[e]:e})),p(t=>({...t,[e]:!0}))},r=(e,t)=>{u[e]&&a(e,t,"admin.template.file.rename"),f[e]&&a(e,t,"admin.template.folder.rename")};return s.useEffect(()=>(document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}),[]),b.jsx(k.Provider,{value:{handleAdd:C,handleDelete:I,handleRename:a,handleEditFile:L,handleEditFolder:M,handleOutsideClick:r,setOpenDeleteModal:E,isEditingFile:u,isEditingFolder:f,filePath:v,deleteRoute:y,title:P,openDeleteModal:g,folderNames:x,fileNames:S},children:m})};export{k as F,T as a};
