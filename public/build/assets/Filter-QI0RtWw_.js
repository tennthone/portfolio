import{q as k,r as o,j as e,R as f,y as D}from"./app--aVbL-pH.js";import{f as R,a as m,d as g}from"./ToggleSwitch-Qx0o1INj.js";import{a as z}from"./index.esm-E5RsbAw0.js";import L from"./AdvancedFilter-jZcNgCg2.js";import{a as E}from"./index.esm-gDgeuq8Z.js";import{A as C}from"./AdminContext-2_gx2oGm.js";import"./index.esm-Y7uPn6Q7.js";import"./MyModal-Bvy8YUcv.js";import"./index-P14pBrTn.js";import"./FrontendLayout-eoZgnh6e.js";import"./index.esm-DzXUWgJ9.js";import"./index.esm-D0xlbhU7.js";import"./index.esm-Uhj2sF6M.js";import"./index.esm-1hZOEXpm.js";import"./CustomFileInput-_zhpH0Bm.js";const X=()=>{const{url:i,props:h}=k(),p=h.admins,[s,n]=o.useState(!1),[r,u]=o.useState(!1),[j,F]=o.useState(!1),{searchData:a,setSearchData:l,resetSearchData:S}=o.useContext(C),v=t=>{t.preventDefault(),b(a)},y=()=>{u(!r),l({...a,advancedSearch:!r})},N=t=>{const c=t.target.id,x=t.target.value;l(d=>({...d,[c]:x}))},A=t=>{const c=t.target.id,x=t.target.value;l(d=>({...d,createdAt:{...d.createdAt,[c]:x}}))};function b(t){D.post(i,t,{onSuccess:()=>{n(!0),u(!1)},onError:c=>{console.log(c)},preserveState:!0})}const w=()=>{l(initValue)};return e.jsxs(f.Fragment,{children:[s&&e.jsx("div",{className:"my-4",children:e.jsxs("p",{children:["Total ",p.length," results is found for `",a.search,"`"]})}),e.jsxs("div",{className:"relative",children:[e.jsx("form",{onSubmit:v,children:e.jsxs("div",{className:"flex justify-between my-3 items-center",children:[e.jsx("div",{className:"w-8/12",children:e.jsx(R,{placeholder:"Search For Admins",type:"search",className:"me-2",value:a.search,required:!0,onChange:t=>l({...a,search:t.target.value})})}),e.jsx("div",{className:"w-1/12",children:e.jsx(m,{color:"gray",className:"me-2",onClick:()=>S(),children:"Refresh"})}),e.jsx("div",{className:"w-1/12",children:e.jsx(m,{type:"submit",color:"purple",children:"Search"})}),e.jsx("div",{className:"w-1/12",children:e.jsx(g,{content:"Advanced Filter",children:e.jsx(m,{type:"button",size:"sm",color:"purple",onClick:y,children:e.jsx(z,{size:23})})})}),e.jsx("div",{className:"w-1/12",children:e.jsx(g,{content:"Show Colums",children:e.jsx(m,{type:"button",size:"sm",color:"purple",onClick:()=>F(!j),children:e.jsx(E,{size:23})})})})]})}),r&&e.jsx(L,{setOpenAdvancedFilter:u,handleAdvancedFilter:v,handleFilterChange:N,handleClearFilter:w,handleDateFilterChange:A,advancedFilter:a}),j&&e.jsx(O,{})]})]})},O=()=>{const{colHeaders:i,setcolHeaders:h}=o.useContext(C),p=s=>{i.filter(n=>n.selected==!0).length,h(n=>n.map(r=>r.id===s?{...r,selected:!r.selected}:r))};return e.jsx(f.Fragment,{children:e.jsx("div",{className:"absolute top-12 right-0 w-1/5 bg-slate-200 z-50 rounded-md",children:e.jsx("div",{className:"py-2",children:e.jsx("ul",{children:i.map(s=>e.jsx("li",{className:`py-2 px-1 m-2 
                            ${s.selected?"bg-indigo-600 text-slate-100":"bg-slate-200 text-slate-900"} 
                            rounded-md cursor-pointer`,onClick:()=>p(s.id),children:s.name},s.id))})})})})};export{X as default};
